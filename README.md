# SpaceDronTestTask
тестовое задание Unity: Симуляция сбора ресурсов дронами фракций

# Реализовано:
- Начало и конец игры
- Добавление и удаление дронов
- Основная логика дронов: выбор ближайшего свободного ресурса, сбор ресурса, возвращение на базу, сдача ресурса (навигация и перемещение через NavMesh)
- Задание количества дронов
- Задание скорости дронов
- Задание частоты появления ресурсов
- Задание максимального количества ресурсов
- Отображение собранных ресурсов у фракций
- Эффект при возвращении ресурса на базу
- Разные дроны для разных фракций

# Описание архитектуры
Архитектура - вариация Model-View-Presenter (MVP);<br />
Model - хранит значимые данные.<br />
View - отображение 3Д объектов и интерфейса, получение событий со сцены.<br />
System - логика, соединяет Model и View.<br />
Управление системами происходит через SystemsController.<br />

# Инициализация и точка входа
В проекте используется Zenject. Установка зависимостей в MainSceneInstaller, SOInstaller<br />
Точкой входа является MainSceneMain. Там происходит инициализация систем и старт первой системы InitSystem.<br />
В InitSystem происходит условная загрузка и инициализация игры. Затем открывается стартовый экран - MainScreen + MainScreenSystem.<br />

# Процесс игры
При нажатии на кнопке Start, системы основного экрана выключаются и включаются игровые системы:<br />
- DronsSystem - добавление и удаление дронов (каждый дрон управляется своим DronLogic)
- GameSettingsScreenSystem - отображение и управление настройками игры (количество дронов, скорость дронов и пр.)
- MatchScoreScreenSystem - отображение и обновление счета по фракциям
- ResourceSystem - добавление и удаление ресурсов на сцене
- ScoreEffectSystem - эффекты при возвращении ресурса на базу

Системы берут данные из модели, изменяют их, а также реагируют на их изменение. Модели:
- DronModel - данные о дроне, какой он фракции, несет ли ресурс.
- MatchModel - основное состояние матча, содержит список моделей дронов, ресурсов, а также счет
- MatchSettingsModel - данные о настройках матча (количество дронов, их скорость и пр.)
- ResourceModel - данные о ресурсе, свободен ли, его количество.

Системы не являются MonoBehaviour. Для работы с View им передаются объекты со сцены:
- ScreensManager - предоставляет экраны по требованию
- ResourceSpawner - управление отображением ресурсов
- DronSpwaner - управление отображением дронов
